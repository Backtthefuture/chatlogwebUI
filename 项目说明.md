# 聊天记录查询与AI分析系统 v1.2

## 📖 项目简介

一个基于Node.js的现代化聊天记录查询和AI智能分析系统，提供丰富的数据查询功能和专业的AI分析报告生成。v1.2版本新增AI分析模块名称设置和动态新增分析项功能，进一步提升个性化体验。

## ✨ 核心功能

### 🔍 聊天记录查询
- **多条件搜索**：支持时间范围、聊天对象、关键词等多维度搜索
- **分页浏览**：高效的分页加载，支持大量数据查询
- **实时预览**：支持图片、语音、文件等多媒体内容预览
- **数据导出**：一键导出查询结果为文本格式

### 🤖 AI智能分析

#### 🎨 **新功能：个性化模块管理（v1.2）**
- **自定义名称**：每个AI分析模块都可设置个性化显示名称
- **动态新增**：点击"新增分析项"按钮可创建全新的分析模块
- **灵活管理**：自定义分析项支持独立配置和删除操作
- **实时更新**：名称设置保存后立即在首页同步更新显示
- **绿色主题**：新增功能采用绿色渐变设计，视觉友好

#### 📊 **历史记录管理（v1.1）**
- **新窗口展示**：分析结果在1200x800新窗口中展示，告别小弹窗限制
- **历史记录列表**：侧边栏显示所有历史分析，按时间倒序排列
- **一键重访**：点击历史记录可重新打开任何过往分析结果
- **持久化存储**：分析结果本地保存，重启应用后仍可访问
- **美观展示**：暖色系卡片设计，显示群名称+日期、分析类型、消息数量

#### 🎯 **分析模板**
- **📱 编程群分析**：技术栈讨论、代码质量、开发趋势
- **🔬 科学群分析**：学术讨论、知识分享、学习活跃度  
- **📚 读者群分析**：阅读习惯、书籍推荐、读书心得
- **🎨 自定义分析**：完全自由的分析需求定制

#### ⚙️ **智能设置系统**
- **🏷️ 显示名称设置**：为每个分析模块设置个性化名称
- **⏰ 时间范围配置**：昨天/今天/最近一周/最近一月/自定义
- **🎯 群聊选择**：下拉框选择，显示群成员数
- **📝 自定义提示词**：完全控制AI分析输出内容
- **🗑️ 删除管理**：支持删除自定义添加的分析项
- **💾 设置持久化**：个人配置本地保存

#### 📈 **高质量分析报告**
- **📊 可视化图表**：Chart.js驱动的动态图表生成
- **📈 数据趋势分析**：时间序列、用户活跃度、话题分布
- **💡 智能洞察提取**：关键词云、讨论重点、互动网络
- **🎨 美观HTML界面**：暖色系设计，响应式布局

### 📋 数据管理
- **联系人管理**：快速加载和查看所有联系人信息
- **群聊管理**：群聊列表展示，包含群成员数统计
- **最近会话**：快速访问最近的对话记录
- **状态监控**：实时显示Chatlog服务连接状态

## 🛠 技术架构

### 后端技术栈
- **Node.js + Express**：高性能Web服务器
- **EJS模板引擎**：动态页面渲染
- **DeepSeek AI API**：智能分析核心引擎
- **Chatlog API**：本地数据源接口
- **文件系统存储**：历史记录持久化管理
- **Moment.js**：时间处理和格式化

### 前端技术栈
- **原生JavaScript ES6+**：轻量级，无额外依赖
- **CSS3 + Flexbox/Grid**：现代响应式布局
- **Font Awesome图标**：丰富的UI图标支持
- **Chart.js集成**：专业数据可视化
- **暖色系设计**：舒适的用户视觉体验

## 🎨 v1.2版本亮点

### 🏷️ **个性化名称设置**
- **自定义显示**：每个AI分析模块都可设置个性化名称
- **实时同步**：设置保存后首页按钮名称立即更新
- **保持图标**：名称更新时保留原有图标样式
- **持久化存储**：自定义名称永久保存，重启后仍然生效

### ➕ **动态模块管理**
- **一键新增**：绿色"新增分析项"按钮，轻松创建新模块
- **独立配置**：每个新增模块都有完整的设置选项
- **智能删除**：红色删除按钮，支持移除自定义模块
- **视觉区分**：新增模块采用绿色虚线边框，清晰区分

### 🎭 **增强的UI体验**
- **绿色主题**：新增功能统一采用绿色渐变设计
- **红色警示**：删除操作使用红色，符合危险操作语义
- **确认对话框**：删除前弹出确认提示，防止误操作
- **动态样式**：悬停效果和动画过渡，提升交互体验

## 🎯 v1.1版本亮点

### 🪟 **新窗口展示体验**
- **告别小弹窗**：1200x800像素大窗口，完整展示分析报告
- **独立浏览体验**：可最大化、调整大小、独立滚动
- **更好的可读性**：图表和文字都能获得充分展示空间

### 📚 **历史记录系统**
- **智能标题**：群名称 + 时间范围，一目了然
- **丰富元数据**：分析时间、类型标签、消息数量统计
- **快速访问**：点击历史记录秒开，无需重新分析
- **永久保存**：本地JSON文件存储，数据安全可靠

### 🎭 **UI/UX优化**
- **暖色系设计**：金黄、橙色渐变，温暖专业
- **悬停动效**：卡片阴影、缩放变换，提升交互感
- **响应式滚动**：历史列表支持平滑滚动
- **状态反馈**：加载状态、成功提示、错误处理

## 📊 使用场景

### 👨‍💻 **开发团队**
- 分析技术讨论趋势，了解团队关注重点
- 监控代码质量讨论，优化开发流程
- 统计问答互动，提升团队协作效率
- 自定义分析模块名称，匹配团队项目需求

### 🎓 **教育机构**
- 分析学习群活跃度，优化教学内容
- 统计知识分享频率，激励学习氛围
- 监控学习效果反馈，调整教学策略

### 📖 **读书社群**
- 分析阅读喜好趋势，推荐热门书籍
- 统计读书心得分享，促进交流互动
- 监控讨论热度变化，优化社群运营
- 创建多个书籍类别分析模块，精准定位

### 🔬 **研究分析**
- 社交网络分析研究
- 群体行为模式研究  
- 信息传播路径分析

## 🚀 快速开始

### 环境要求
- Node.js 16.0+ 
- 微信聊天记录导出工具（Chatlog）
- DeepSeek API密钥

### 安装步骤
```bash
# 1. 克隆项目
git clone [项目地址]
cd chatlog

# 2. 安装依赖
npm install

# 3. 配置环境变量
cp .env.example .env
# 编辑.env文件，填入DeepSeek API密钥

# 4. 启动Chatlog服务（端口5030）
./chatlog

# 5. 启动Web服务
npm start
# 或者
node server.js

# 6. 访问应用
# 浏览器打开 http://localhost:3000
```

### 基本使用
1. **启动服务**：确保Chatlog和Web服务都已启动
2. **加载数据**：点击"加载群聊"获取聊天对象列表
3. **选择分析**：选择预设分析类型或自定义分析
4. **配置设置**：点击⚙️按钮配置显示名称、时间范围和提示词
5. **新增模块**：点击"新增分析项"创建自定义分析模块
6. **执行分析**：点击分析按钮，等待AI生成报告
7. **查看结果**：新窗口自动打开显示分析结果
8. **历史回顾**：在侧边栏查看和重访历史分析

## 🔧 API接口

### 分析相关接口
- `POST /api/ai-analysis` - 执行AI分析
- `GET /api/analysis-history` - 获取历史记录列表
- `GET /api/analysis-history/:id` - 获取特定分析记录
- `GET /analysis/:id` - 展示分析结果页面

### 数据查询接口
- `GET /api/chatlog` - 查询聊天记录
- `GET /api/contacts` - 获取联系人列表
- `GET /api/chatrooms` - 获取群聊列表
- `GET /api/sessions` - 获取会话列表
- `GET /api/status` - 检查服务状态

## 🎯 版本更新记录

### v1.2 (当前版本)
- ✨ **新增**：AI分析模块名称设置功能
- ✨ **新增**：动态新增分析项功能
- ✨ **新增**：自定义分析项删除功能
- 🎨 **优化**：绿色主题新增按钮设计
- 🔧 **改进**：实时名称更新机制
- 📱 **提升**：个性化定制体验

### v1.1
- ✨ **新增**：AI分析历史记录功能
- ✨ **新增**：新窗口展示分析结果
- ✨ **新增**：分析结果持久化存储
- 🎨 **优化**：暖色系UI设计改进
- 🔧 **重构**：API响应格式优化
- 📱 **改进**：用户体验大幅提升

### v1.0
- 🎉 **发布**：完整的聊天记录查询系统
- 🤖 **AI分析**：4种预设分析模板
- ⚙️ **智能设置**：可定制的分析配置
- 📊 **数据可视化**：Chart.js图表支持
- 🎨 **现代UI**：响应式设计界面

## 🤝 贡献指南

欢迎提交Issue和Pull Request来改进项目！

### 开发环境搭建
```bash
# 开发模式启动
npm run dev

# 代码格式化
npm run format

# 运行测试
npm test
```

## 📄 许可证

本项目采用 MIT 许可证 - 查看 [LICENSE](LICENSE) 文件了解详情

## 📞 技术支持

- 📧 邮箱：[your-email@example.com]
- 💬 讨论：[项目讨论区链接]
- 📝 文档：[详细文档链接]

---

**聊天记录查询与AI分析系统 v1.1** - 让数据分析更智能，让洞察更深入！ 🚀✨ 